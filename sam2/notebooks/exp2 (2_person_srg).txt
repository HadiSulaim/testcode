Mean Centroid Distance (10.91)
What it tells you:
The mean centroid distance represents the average movement of the centroid between consecutive frames. It gives you a baseline for what is considered "normal" centroid movement in your dataset.
How to use it:
If your threshold is set too close to the mean (e.g., 10.91), you may classify many frames as occluded due to normal centroid movement, leading to false positives.
A good threshold should typically be above the mean to account for normal variations in centroid movement.
2. Standard Deviation of Centroid Distances (44.48)
What it tells you:
The standard deviation measures the spread or variability of centroid distances. A high standard deviation (like 44.48) indicates that there is a wide range of centroid movements, with some frames having very large distances.
How to use it:
You can use the standard deviation to define thresholds based on statistical rules:
Mean + 1 Standard Deviation: Captures approximately 68% of the data. For your case: 
Threshold
=
10.91
+
44.48
=
55.39
Threshold=10.91+44.48=55.39 This threshold would classify frames with centroid movement greater than 55.39 as occluded.
Mean + 2 Standard Deviations: Captures approximately 95% of the data. For your case: 
Threshold
=
10.91
+
2
×
44.48
=
99.87
Threshold=10.91+2×44.48=99.87 This threshold would classify only the most extreme centroid movements as occluded.
Using the standard deviation helps you balance sensitivity (detecting occluded frames) and specificity (avoiding false positives).
3. 95th Percentile of Centroid Distances (20.75)
What it tells you:
The 95th percentile indicates that 95% of the centroid distances are below 20.75, and only 5% of the distances are above this value. This is a good indicator of what constitutes an outlier in your data.
How to use it:
Setting the threshold at the 95th percentile (20.75) ensures that only the top 5% of frames with the largest centroid movements are classified as occluded.
This is a data-driven threshold that minimizes false positives while still capturing significant centroid movements.
Advantages of These Metrics
Data-Driven Threshold Selection:
Instead of arbitrarily choosing a threshold, you can use these metrics to set thresholds based on the actual distribution of centroid distances in your dataset.
Balancing Sensitivity and Specificity:
By using the mean, standard deviation, or percentiles, you can adjust the threshold to balance between detecting occluded frames (sensitivity) and avoiding false positives (specificity).
Identifying Outliers:
The 95th percentile helps you identify outlier frames with unusually large centroid movements, which are likely to be occluded.
Flexibility:
You can experiment with thresholds based on these metrics (e.g., mean + 1 standard deviation, 95th percentile) and evaluate their impact on the number of occluded frames.
Recommended Approach
Start with the 95th Percentile:
Use 20.75 as the initial threshold since it captures the top 5% of centroid movements, which are likely to be outliers.
Experiment with Mean + Standard Deviation:
Test thresholds like 55.39 (mean + 1 standard deviation) or 99.87 (mean + 2 standard deviations) to see how they affect the number of occluded frames.
Visualize the Impact:
Plot the number of occluded frames vs. different thresholds (as in the previous code) to see how the threshold affects the results.
Choose Based on Application Needs:
If your application requires high sensitivity (detecting all occluded frames), use a lower threshold (e.g., 20.75).
If your application prioritizes avoiding false positives, use a higher threshold (e.g., 55.39 or 99.87).





























After segmenting the objects of interest (3 persons) in the video, I employed a method based on temporal consistency to calculate the occluded frames for a specific person. This approach leverages the properties of the segmentation masks across consecutive frames to detect occlusions.

First, I initialized several variables to track the number of occluded frames, thresholds for acceptable centroid movement and surface change, and properties of the previous frame's mask. These thresholds were set to ensure that only significant changes in the mask properties would be considered as occlusions.

Next, I iterated through each frame in the video segments. For each frame, I checked if the mask for the specific person (ID 1) existed. If the mask was present, I extracted it for further analysis. If the mask was empty, indicating that the person was fully occluded in that frame, I incremented the occluded frame counter and stored the frame index.

For frames where the mask was not empty, I calculated two key properties: the surface area and the centroid. The surface area was determined by summing the number of True pixels in the mask, representing the total number of pixels occupied by the person. The centroid was calculated as the mean coordinates of the True pixels, providing a central point of the segmented area.

To detect occlusions based on temporal consistency, I compared the current frame's mask properties with those of the previous frame. Specifically, I calculated the Euclidean distance between the centroids of the current and previous frames to measure the centroid movement. Additionally, I computed the relative change in the surface area between the two frames. If either the centroid movement exceeded the predefined centroid threshold or the surface change exceeded the surface threshold, the frame was considered occluded.

Throughout the iteration, I updated the previous frame's properties with the current frame's properties to ensure accurate comparisons in subsequent frames. This step was crucial for maintaining the temporal consistency check across the entire video sequence.

After processing all frames, I plotted the occluded frames in a grid format, with 5 images per row. Each image was displayed with a black boundary and a title indicating the frame index. This visualization provided a clear and organized way to review the frames where occlusions were detected.

In summary, by utilizing temporal consistency through centroid movement and surface change, I was able to effectively identify and analyze occluded frames for a specific person in the segmented video. This method proved to be robust in detecting significant occlusions, ensuring accurate tracking and analysis of the segmented objects throughout the video sequence.